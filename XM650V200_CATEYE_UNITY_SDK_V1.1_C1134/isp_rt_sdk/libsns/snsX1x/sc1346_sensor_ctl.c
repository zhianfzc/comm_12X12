#include "isp_type.h"
#include "isp_print.h"
#include "isp_i2c.h"
#include "isp_sns_ctrl.h"
#include "XAx_cmos.h"

//2000*750*30fps
//22.09.22” º˛∏¸–¬≈‰÷√
static const ISP_U16 gau16SnsInit_sc1346[][2] = {
	{0x0100,0x00},
	{0x36e9,0x80},
	{0x37f9,0x80},
	{0x301f,0x0f},
	{0x3106,0x05},
	{0x3200,0x00},
	{0x3201,0x00},
	{0x3202,0x00},
	{0x3203,0x00},
	{0x3204,0x05},
	{0x3205,0x0b},
	{0x3206,0x02},
	{0x3207,0xdb},
	{0x3208,0x05},
	{0x3209,0x08},
	{0x320a,0x02},
	{0x320b,0xd8},
	{0x320c,0x07},
	{0x320d,0xd0},
	{0x320e,0x02},
	{0x320f,0xee},
	{0x3210,0x00},
	{0x3211,0x02},
	{0x3212,0x00},
	{0x3213,0x02},
	{0x3250,0x40},
	{0x3301,0x06},
	{0x3306,0x50},
	{0x3308,0x0a},
	{0x330a,0x00},
	{0x330b,0xda},
	{0x330e,0x0a},
	{0x331e,0x61},
	{0x331f,0xa1},
	{0x3364,0x1f},
	{0x3390,0x09},
	{0x3391,0x0f},
	{0x3392,0x1f},
	{0x3393,0x30},
	{0x3394,0x30},
	{0x3395,0x30},
	{0x33ad,0x10},
	{0x33b3,0x40},
	{0x33f9,0x50},
	{0x33fb,0x80},
	{0x33fc,0x09},
	{0x33fd,0x0f},
	{0x349f,0x03},
	{0x34a6,0x09},
	{0x34a7,0x0f},
	{0x34a8,0x40},
	{0x34a9,0x30},
	{0x34aa,0x00},
	{0x34ab,0xe8},
	{0x34ac,0x01},
	{0x34ad,0x0c},
	{0x3630,0xe2},
	{0x3632,0x76},
	{0x3633,0x33},
	{0x3639,0xf4},
	{0x3641,0x00},
	{0x3670,0x09},
	{0x3674,0xe2},
	{0x3675,0xea},
	{0x3676,0xea},
	{0x367c,0x09},
	{0x367d,0x0f},
	{0x3690,0x22},
	{0x3691,0x22},
	{0x3692,0x22},
	{0x3698,0x88},
	{0x3699,0x90},
	{0x369a,0xa1},
	{0x369b,0xc3},
	{0x369c,0x09},
	{0x369d,0x0f},
	{0x36a2,0x09},
	{0x36a3,0x0b},
	{0x36a4,0x0f},
	{0x36d0,0x01},
	{0x36ea,0x0f},
	{0x36eb,0x0d},
	{0x36ec,0x15},
	{0x36ed,0x28},
	{0x370f,0x01},
	{0x3722,0x41},
	{0x3724,0x41},
	{0x3725,0xc1},
	{0x3728,0x00},
	{0x37b0,0x41},
	{0x37b1,0x41},
	{0x37b2,0x47},
	{0x37b3,0x09},
	{0x37b4,0x0f},
	{0x37fa,0x0a},
	{0x37fb,0x33},
	{0x37fc,0x11},
	{0x37fd,0x37},
	{0x3903,0x40},
	{0x3904,0x04},
	{0x3905,0x8d},
	{0x3907,0x00},
	{0x3908,0x41},
	{0x391f,0x41},
	{0x3933,0x80},
	{0x3934,0x02},
	{0x3937,0x74},
	{0x3939,0x0f},
	{0x393a,0xd4},
	{0x3e00,0x00},
	{0x3e01,0x2e},
	{0x3e02,0x80},
	{0x3e06,0x00},
	{0x3e07,0x9c},
	{0x440e,0x02},
	{0x4509,0x20},
	{0x450d,0x28},
	{0x4800,0x44},
	{0x4819,0x06},
	{0x481b,0x04},
	{0x481d,0x0c},
	{0x481f,0x03},
	{0x4821,0x08},
	{0x4823,0x03},
	{0x4825,0x03},
	{0x4827,0x03},
	{0x4829,0x05},
	{0x5780,0x66},
	{0x578d,0x40},
	{0x36e9,0x23},
	{0x37f9,0x20},
	{0x0100,0x01},
	
#if 0					//Ωµ÷°≈‰÷√ £¨ƒ¨»œπÿ±’
	//mclk 24M 	pckl 22.5M  
	// 2000*900*12.5fps
	//{0x0103,0x01},
	{0x0100,0x00},
	{0x36e9,0x80},
	{0x37f9,0x80},
	{0x301f,0x14},
	{0x3106,0x05},
	{0x3200,0x00},
	{0x3201,0x00},
	{0x3202,0x00},
	{0x3203,0x00},
	{0x3204,0x05},
	{0x3205,0x0b},
	{0x3206,0x02},
	{0x3207,0xdb},
	{0x3208,0x05},
	{0x3209,0x08},
	{0x320a,0x02},
	{0x320b,0xd8},
	{0x320c,0x07},
	{0x320d,0xd0},
	{0x320e,0x03},
	{0x320f,0x84},
	{0x3210,0x00},
	{0x3211,0x02},
	{0x3212,0x00},
	{0x3213,0x02},
	{0x3250,0x40},
	{0x3301,0x06},
	{0x3306,0x50},
	{0x3308,0x0a},
	{0x330a,0x00},
	{0x330b,0xda},
	{0x330e,0x0a},
	{0x331e,0x61},
	{0x331f,0xa1},
	{0x3364,0x1f},
	{0x3390,0x09},
	{0x3391,0x0f},
	{0x3392,0x1f},
	{0x3393,0x30},
	{0x3394,0x30},
	{0x3395,0x30},
	{0x33ad,0x10},
	{0x33b3,0x40},
	{0x33f9,0x50},
	{0x33fb,0x70},
	{0x33fc,0x09},
	{0x33fd,0x0f},
	{0x349f,0x03},
	{0x34a6,0x09},
	{0x34a7,0x0f},
	{0x34a8,0x40},
	{0x34a9,0x30},
	{0x34aa,0x00},
	{0x34ab,0xe8},
	{0x34ac,0x00},
	{0x34ad,0xfc},
	{0x3630,0xe2},
	{0x3632,0x76},
	{0x3633,0x33},
	{0x3639,0xf4},
	{0x3670,0x09},
	{0x3674,0xe2},
	{0x3675,0xea},
	{0x3676,0xea},
	{0x367c,0x09},
	{0x367d,0x0f},
	{0x3690,0x22},
	{0x3691,0x22},
	{0x3692,0x22},
	{0x3698,0x88},
	{0x3699,0x90},
	{0x369a,0xa1},
	{0x369b,0xc3},
	{0x369c,0x09},
	{0x369d,0x0f},
	{0x36a2,0x09},
	{0x36a3,0x0b},
	{0x36a4,0x0f},
	{0x36d0,0x01},
	{0x36ea,0x0f},
	{0x36eb,0x0d},
	{0x36ec,0x15},
	{0x36ed,0x28},
	{0x370f,0x01},
	{0x3722,0x41},
	{0x3724,0x41},
	{0x3725,0xc1},
	{0x3728,0x00},
	{0x37b0,0x41},
	{0x37b1,0x41},
	{0x37b2,0x47},
	{0x37b3,0x09},
	{0x37b4,0x0f},
	{0x37fa,0x05},
	{0x37fb,0x33},
	{0x37fc,0x11},
	{0x37fd,0x37},
	{0x3903,0x40},
	{0x3904,0x04},
	{0x3905,0x8d},
	{0x3907,0x00},
	{0x3908,0x41},
	{0x3933,0x80},
	{0x3934,0x0a},
	{0x3937,0x79},
	{0x3939,0x00},
	{0x393a,0x00},
	{0x3e00,0x00},
	{0x3e01,0x37},
	{0x3e02,0xe0},
	{0x440e,0x02},
	{0x4509,0x20},
	{0x450d,0x28},
	{0x4800,0x44},
	{0x4819,0x04},
	{0x481b,0x02},
	{0x481d,0x06},
	{0x481f,0x02},
	{0x4821,0x07},
	{0x4823,0x02},
	{0x4825,0x02},
	{0x4827,0x02},
	{0x4829,0x03},
	{0x3303,0x10},
	{0x3327,0x08},
	{0x3320,0x04},
	{0x3329,0x09},
	{0x36e9,0x28},
	{0x37f9,0x20},
	{0x0100,0x01},
#endif
	
	
};

static const ISP_U16 gau16SnsInit_sc1346_dvp[][2] = {
	#if 0
	{0x0100,0x00},
	{0x36e9,0x80},
	{0x37f9,0x80},
	{0x3001,0xff},
	{0x3002,0xf0},
	{0x300a,0x24},
	{0x3018,0x0f},
	{0x301a,0xf8},
	{0x301c,0x94},
	{0x301f,0x1d},
	{0x3030,0x01},
	{0x303f,0x81},
	{0x3106,0x05},
	{0x3200,0x00},
	{0x3201,0x00},
	{0x3202,0x00},
	{0x3203,0x00},
	{0x3204,0x05},
	{0x3205,0x0b},
	{0x3206,0x02},
	{0x3207,0xdb},
	{0x3208,0x05},
	{0x3209,0x08},
	{0x320a,0x02},
	{0x320b,0xd8},
	{0x320c,0x09},
	{0x320d,0x60},
	{0x320e,0x02},
	{0x320f,0xee},
	{0x3210,0x00},
	{0x3211,0x02},
	{0x3212,0x00},
	{0x3213,0x02},
	{0x3250,0x40},
	{0x3301,0x06},
	{0x3306,0x50},
	{0x3308,0x0a},
	{0x330a,0x00},
	{0x330b,0xda},
	{0x330e,0x0a},
	{0x331e,0x61},
	{0x331f,0xa1},
	{0x3364,0x1f},
	{0x3390,0x09},
	{0x3391,0x0f},
	{0x3392,0x1f},
	{0x3393,0x30},
	{0x3394,0x30},
	{0x3395,0x30},
	{0x33ad,0x10},
	{0x33b3,0x40},
	{0x33f9,0x50},
	{0x33fb,0x80},
	{0x33fc,0x09},
	{0x33fd,0x0f},
	{0x349f,0x03},
	{0x34a6,0x09},
	{0x34a7,0x0f},
	{0x34a8,0x40},
	{0x34a9,0x30},
	{0x34aa,0x00},
	{0x34ab,0xe8},
	{0x34ac,0x01},
	{0x34ad,0x0c},
	{0x3630,0xe2},
	{0x3632,0x76},
	{0x3633,0x33},
	{0x3639,0xf4},
	{0x3641,0x01},
	{0x3670,0x09},
	{0x3674,0xe2},
	{0x3675,0xea},
	{0x3676,0xea},
	{0x367c,0x09},
	{0x367d,0x0f},
	{0x3690,0x22},
	{0x3691,0x22},
	{0x3692,0x22},
	{0x3698,0x88},
	{0x3699,0x90},
	{0x369a,0xa1},
	{0x369b,0xc3},
	{0x369c,0x09},
	{0x369d,0x0f},
	{0x36a2,0x09},
	{0x36a3,0x0b},
	{0x3000,0xff},
	{0x36a4,0x0f},
	{0x36d0,0x01},
	{0x36ea,0x1b},
	{0x36eb,0x0d},
	{0x36ec,0x15},
	{0x36ed,0x28},
	{0x370f,0x01},
	{0x3722,0x41},
	{0x3724,0x41},
	{0x3725,0xc1},
	{0x3728,0x00},
	{0x37b0,0x41},
	{0x37b1,0x41},
	{0x37b2,0x47},
	{0x37b3,0x09},
	{0x37b4,0x0f},
	{0x37fa,0x06},
	{0x37fb,0x33},
	{0x37fc,0x11},
	{0x37fd,0x27},
	{0x3903,0x40},
	{0x3904,0x04},
	{0x3905,0x8d},
	{0x3907,0x00},
	{0x3908,0x41},
	{0x391f,0x41},
	{0x3933,0x80},
	{0x3934,0x02},
	{0x3937,0x74},
	{0x3939,0x0f},
	{0x393a,0xd4},
	{0x3e01,0x2e},
	{0x3e02,0x80},
	{0x440e,0x02},
	{0x4509,0x20},
	{0x450d,0x28},
	{0x4603,0x01},
	{0x4800,0x44},
	{0x4819,0x06},
	{0x481b,0x03},
	{0x481d,0x0b},
	{0x481f,0x03},
	{0x4821,0x08},
	{0x4823,0x03},
	{0x4825,0x03},
	{0x4827,0x03},
	{0x4829,0x05},
	{0x5780,0x66},
	{0x578d,0x40},
	{0x36e9,0x28},
	{0x37f9,0x00},
	{0x3d08,0x03},
	{0x0100,0x01},
	#else
{0x0103,0x01},
{0x0100,0x00},
{0x36e9,0x80},
{0x37f9,0x80},
{0x3000,0xff},
{0x3001,0xff},
{0x3002,0xf0},
{0x300a,0x24},
{0x3018,0x0f},
{0x301a,0xf8},
{0x301c,0x94},
{0x301f,0x29},
{0x3030,0x01},
{0x303f,0x81},
{0x3106,0x05},
{0x3200,0x00},
{0x3201,0x00},
{0x3202,0x00},
{0x3203,0x00},
{0x3204,0x05},
{0x3205,0x0b},
{0x3206,0x02},
{0x3207,0xdb},
{0x3208,0x05},
{0x3209,0x08},
{0x320a,0x02},
{0x320b,0xd8},
{0x320c,0x06},
{0x320d,0x72},
{0x320e,0x03},
{0x320f,0x20},
{0x3210,0x00},
{0x3211,0x02},
{0x3212,0x00},
{0x3213,0x02},
{0x3250,0x40},
{0x3301,0x06},
{0x3306,0x50},
{0x3308,0x0a},
{0x330a,0x00},
{0x330b,0xda},
{0x330e,0x0a},
{0x331e,0x61},
{0x331f,0xa1},
{0x3364,0x1f},
{0x3390,0x09},
{0x3391,0x0f},
{0x3392,0x1f},
{0x3393,0x30},
{0x3394,0x30},
{0x3395,0x30},
{0x33ad,0x10},
{0x33b3,0x40},
{0x33f9,0x50},
{0x33fb,0x80},
{0x33fc,0x09},
{0x33fd,0x0f},
{0x349f,0x03},
{0x34a6,0x09},
{0x34a7,0x0f},
{0x34a8,0x40},
{0x34a9,0x30},
{0x34aa,0x00},
{0x34ab,0xe8},
{0x34ac,0x01},
{0x34ad,0x0c},
{0x3630,0xe2},
{0x3632,0x76},
{0x3633,0x33},
{0x3639,0xf4},
{0x3641,0x01},
{0x3670,0x09},
{0x3674,0xe2},
{0x3675,0xea},
{0x3676,0xea},
{0x367c,0x09},
{0x367d,0x0f},
{0x3690,0x22},
{0x3691,0x22},
{0x3692,0x22},
{0x3698,0x88},
{0x3699,0x90},
{0x369a,0xa1},
{0x369b,0xc3},
{0x369c,0x09},
{0x369d,0x0f},
{0x36a2,0x09},
{0x36a3,0x0b},
{0x36a4,0x0f},
{0x36d0,0x01},
{0x36ea,0x0b},
{0x36eb,0x0d},
{0x36ec,0x15},
{0x36ed,0x28},
{0x370f,0x01},
{0x3722,0x41},
{0x3724,0x41},
{0x3725,0xc1},
{0x3728,0x00},
{0x37b0,0x41},
{0x37b1,0x41},
{0x37b2,0x47},
{0x37b3,0x09},
{0x37b4,0x0f},
{0x37fa,0x0b},
{0x37fb,0x33},
{0x37fc,0x11},
{0x37fd,0x07},
{0x3903,0x40},
{0x3904,0x04},
{0x3905,0x8d},
{0x3907,0x00},
{0x3908,0x41},
{0x391f,0x41},
{0x3933,0x80},
{0x3934,0x02},
{0x3937,0x74},
{0x3939,0x0f},
{0x393a,0xd4},
{0x3e01,0x2e},
{0x3e02,0x80},
{0x440e,0x02},
{0x4509,0x20},
{0x450d,0x28},
{0x4603,0x01},
{0x4800,0x44},
{0x4819,0x06},
{0x481b,0x03},
{0x481d,0x0b},
{0x481f,0x03},
{0x4821,0x08},
{0x4823,0x03},
{0x4825,0x03},
{0x4827,0x03},
{0x4829,0x05},
{0x5780,0x66},
{0x578d,0x40},
{0x36e9,0x20},
{0x37f9,0x04},
{0x3d08,0x03},
{0x0100,0x01},
	#endif
};

void sensor_init_sc1346(ISP_DEV IspDev)
{
	ISP_U16 u16Num,u16i;
	if(IspDev)
	{
		u16Num = sizeof(gau16SnsInit_sc1346_dvp)/sizeof(gau16SnsInit_sc1346_dvp[0]);
		for(u16i=0; u16i < u16Num; u16i++)
		{
			sensor_write_register(IspDev,(ISP_U32)gau16SnsInit_sc1346_dvp[u16i][0], (ISP_U32)gau16SnsInit_sc1346_dvp[u16i][1]);
		}
		//if(gstSnsAttr[IspDev].u8FunExt == FUN_EXT_DOOR_LOCK_FACE_UVC)
		//{
		//	sensor_write_register(IspDev,0x100,0);
		//}
		//DEBUG("------------- sc1346 (@20230110 dvp) ----------------\n");
	}
	else
	{
		u16Num = sizeof(gau16SnsInit_sc1346)/sizeof(gau16SnsInit_sc1346[0]);
		for(u16i=0; u16i < u16Num; u16i++)
		{
			sensor_write_register(IspDev,(ISP_U32)gau16SnsInit_sc1346[u16i][0], (ISP_U32)gau16SnsInit_sc1346[u16i][1]);
		}
		//DEBUG("------------- sc1346 (@20220822 mipi) ----------------\n");
	}
	//XM_MPI_ISP_USleep(20000);

}



