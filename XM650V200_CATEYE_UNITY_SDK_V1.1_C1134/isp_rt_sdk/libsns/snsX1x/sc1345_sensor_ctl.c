#include "isp_type.h"
#include "isp_print.h"
#include "isp_i2c.h"
#include "isp_sns_ctrl.h"
#include "XAx_cmos.h"



static const ISP_U16 gau16SnsInit_sc1345[][2] = {
	// 2400*750*25fps
	{0x0100,0x00},
	{0x36e9,0x80},
	{0x301f,0x07},
	{0x3200,0x00},
	{0x3201,0x00},
	{0x3202,0x00},
	{0x3203,0x00},
	{0x3204,0x05},
	{0x3205,0x0b},
	{0x3206,0x02},
	{0x3207,0xdb},
	{0x3208,0x05},
	{0x3209,0x08},
	{0x320a,0x02},
	{0x320b,0xd8},
	{0x320c,0x09},
	{0x320d,0x60},
	{0x3210,0x00},
	{0x3211,0x02},
	{0x3212,0x00},
	{0x3213,0x02},
	{0x3250,0x40},
	{0x3253,0x0A},
	{0x3301,0x04},
	{0x3306,0x30},
	{0x3309,0x48},//
	{0x330b,0xb0},
	{0x330e,0x18},
	{0x331f,0x41},//
	{0x3320,0x05},
	{0x3333,0x10},
	{0x3364,0x17},
	{0x3390,0x08},
	{0x3391,0x18},
	{0x3392,0x38},
	{0x3393,0x06},
	{0x3394,0x10},
	{0x3395,0x40},
	{0x3620,0x08},
	{0x3622,0xc6},
	{0x3630,0xc0},
	{0x3633,0x33},
	{0x3637,0x14},
	{0x3638,0x0e},
	{0x363a,0x00},
	{0x363c,0x05},
	{0x3670,0x1e},//修改
	{0x3674,0x90},
	{0x3675,0x90},
	{0x3676,0x90},
	{0x3677,0x82},
	{0x3678,0x86},
	{0x3679,0x8b},
	{0x367c,0x18},
	{0x367d,0x38},
	{0x367e,0x18},
	{0x367f,0x38},
	{0x3690,0x33},
	{0x3691,0x33},
	{0x3692,0x32},
	{0x369c,0x08},
	{0x369d,0x38},
	{0x36a4,0x08},//
	{0x36a5,0x18},//
	{0x36a8,0x02},//
	{0x36a9,0x04},//
	{0x36aa,0x0e},//
	{0x36ea,0x05},
	{0x36eb,0x88},
	{0x36ec,0x1d},
	{0x36ed,0x24},
	#if 0
	//blcmax
	{0x3933,0x81},		//新增 处理高温和坏点 ， 效果不佳
	{0x3934,0x01},
	{0x3940,0x43},
	{0x3942,0x01},
	{0x3943,0x04},
	#endif
	
	{0x3e00,0x00},
	{0x3e01,0x2e},
	{0x3e02,0x00},
	{0x3e08,0x03},
	{0x3e09,0x20},
	{0x4509,0x20},
	{0x4800,0x44}, //时钟改为连续
	{0x4819,0x06},
	{0x481b,0x04},
	{0x481d,0x0c},
	{0x481f,0x03},
	{0x4821,0x08},
	{0x4823,0x03},
	{0x4825,0x03},
	{0x4827,0x03},
	{0x4829,0x05},
	{0x36e9,0x23},
	{0x0100,0x01},

#if 0					//降帧配置 ，默认关闭
	//mclk 27M 	pckl 22.5M  
	// 2000*900*12.5fps
	//{0x0103,0x01},
	{0x0100,0x00},
	{0x36e9,0x80},
	{0x301f,0x32},
	{0x3200,0x00},
	{0x3201,0x00},
	{0x3202,0x00},
	{0x3203,0x00},
	{0x3204,0x05},
	{0x3205,0x0b},
	{0x3206,0x02},
	{0x3207,0xdb},
	{0x3208,0x05},
	{0x3209,0x08},
	{0x320a,0x02},
	{0x320b,0xd8},
	{0x320c,0x07},
	{0x320d,0xd0},
	{0x320e,0x03},
	{0x320f,0x84},
	{0x3210,0x00},
	{0x3211,0x02},
	{0x3212,0x00},
	{0x3213,0x02},
	{0x3250,0x40},
	{0x3253,0x0a},
	{0x3301,0x01},
	{0x3306,0x30},
	{0x3309,0x48},
	{0x330b,0xb0},
	{0x330e,0x18},
	{0x331f,0x41},
	{0x3320,0x05},
	{0x3333,0x10},
	{0x3364,0x17},
	{0x3390,0x08},
	{0x3391,0x18},
	{0x3392,0x38},
	{0x3393,0x06},
	{0x3394,0x10},
	{0x3395,0x40},
	{0x3620,0x08},
	{0x3622,0xc6},
	{0x3630,0xc0},
	{0x3633,0x33},
	{0x3637,0x14},
	{0x3638,0x0e},
	{0x363a,0x00},
	{0x363c,0x05},
	{0x3670,0x1e},
	{0x3674,0x90},
	{0x3675,0x90},
	{0x3676,0x90},
	{0x3677,0x82},
	{0x3678,0x86},
	{0x3679,0x8b},
	{0x367c,0x18},
	{0x367d,0x38},
	{0x367e,0x18},
	{0x367f,0x38},
	{0x3690,0x32},
	{0x3691,0x33},
	{0x3692,0x32},
	{0x369c,0x08},
	{0x369d,0x38},
	{0x36a4,0x08},
	{0x36a5,0x18},
	{0x36a8,0x02},
	{0x36a9,0x04},
	{0x36aa,0x0e},
	{0x36ea,0x0a},
	{0x36eb,0x10},
	{0x36ec,0x1d},
	{0x36ed,0x24},
	{0x3e00,0x00},
	{0x3e01,0x70},
	{0x3e02,0x00},
	{0x3e08,0x03},
	{0x3e09,0x20},
	{0x4509,0x20},
	{0x4800,0x44},
	{0x4819,0x04},
	{0x481b,0x02},
	{0x481d,0x06},
	{0x481f,0x02},
	{0x4821,0x07},
	{0x4823,0x02},
	{0x4825,0x02},
	{0x4827,0x02},
	{0x4829,0x03},
	{0x36e9,0x40},
	{0x0100,0x01},
#endif

};



void sensor_init_sc1345(ISP_DEV IspDev)
{
	ISP_U16 u16Num,u16i;
	u16Num = sizeof(gau16SnsInit_sc1345)/sizeof(gau16SnsInit_sc1345[0]);
	for(u16i=0; u16i < u16Num; u16i++)
	{
		sensor_write_register(IspDev,(ISP_U32)gau16SnsInit_sc1345[u16i][0], (ISP_U32)gau16SnsInit_sc1345[u16i][1]);
	}
	XM_MPI_ISP_USleep(20000);
	DEBUG("------------- sc1345 (@20201125 mipi) ----------------\n");
}



