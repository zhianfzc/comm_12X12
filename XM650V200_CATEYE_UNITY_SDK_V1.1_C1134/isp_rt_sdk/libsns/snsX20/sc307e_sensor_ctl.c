#include "isp_type.h"
#include "isp_print.h"
#include "isp_i2c.h"
#include "isp_sns_ctrl.h"
#include "XAx_cmos.h"


// SC307E(SC2315E MIPI)
static const ISP_U16 gau16SnsInit_sc307e_mipi[][2] = {
	{0x0100,0x00},//pll2 bypass
	{0x3034,0x81},//pll1 bypass
	{0x3039,0xa6},
	{0x3001,0xfe},
	{0x3018,0x33},
	{0x301c,0x78},
	{0x301f,0x01},
	{0x3031,0x0a},
	{0x3037,0x20},
	{0x3038,0xff},
	{0x303b,0x16},
	{0x303c,0x0e},
	{0x3200,0x00},
	{0x3201,0x00},
	{0x3202,0x00},
	{0x3203,0x00},
	{0x3204,0x07},
	{0x3205,0x8f},
	{0x3206,0x04},
	{0x3207,0x47},
	{0x3208,0x07},
	{0x3209,0x88},
	{0x320a,0x04},
	{0x320b,0x40},
	{0x320c,0x0a},
	{0x320d,0x50},
	{0x320e,0x04},
	{0x320f,0x65},
	{0x3211,0x04},
	{0x3213,0x04},
	{0x3222,0x29},
	{0x3235,0x08},
	{0x3236,0xc8},
	{0x3301,0x0f},
	{0x3302,0x1f},
	{0x3303,0x20},
	{0x3306,0x48},
	{0x3308,0x10},
	{0x3309,0x60},
	{0x330b,0xcd},
	{0x330e,0x30},
	{0x3314,0x04},
	{0x331b,0x83},
	{0x331e,0x19},
	{0x331f,0x59},
	{0x3320,0x01},
	{0x3326,0x00},
	{0x3333,0x30},
	{0x335e,0x01},
	{0x335f,0x03},
	{0x3366,0x7c},
	{0x3367,0x08},
	{0x3368,0x04},
	{0x3369,0x00},
	{0x336a,0x00},
	{0x336b,0x00},
	{0x337c,0x04},
	{0x337d,0x06},
	{0x337f,0x03},
	{0x33a0,0x05},
	{0x33aa,0x10},
	{0x360f,0x01},
	{0x3614,0x80},
	{0x3620,0x28},
	{0x3621,0x28},
	{0x3622,0x06},
	{0x3624,0x08},
	{0x3625,0x02},
	{0x3630,0x9c},
	{0x3631,0x84},
	{0x3632,0x08},
	{0x3633,0x4f},
	{0x3635,0xa0},
	{0x3636,0x25},
	{0x3637,0x55},
	{0x3638,0x1f},
	{0x3639,0x09},
	{0x363a,0x9f},
	{0x363b,0x06},
	{0x363c,0x05},
	{0x3641,0x01},
	{0x366e,0x08},
	{0x366f,0x2c},
	{0x3670,0x0c},
	{0x3671,0xc6},
	{0x3672,0x06},
	{0x3673,0x16},
	{0x3677,0x86},
	{0x3678,0x88},
	{0x3679,0x88},
	{0x367a,0x28},
	{0x367b,0x3f},
	{0x367e,0x08},
	{0x367f,0x28},
	{0x3690,0x33},
	{0x3691,0x11},
	{0x3692,0x43},
	{0x369c,0x08},
	{0x369d,0x28},
	{0x3802,0x00},
	{0x3900,0x19},
	{0x3901,0x02},
	{0x3902,0xc5},
	{0x3903,0x08},
	{0x3905,0x98},
	{0x3907,0x00},
	{0x3908,0x11},
	{0x391d,0x04},	// ¸ßÎÂÆ«ºì
	{0x391e,0x00},
	{0x3933,0x0a},
	{0x3934,0x18},
	{0x3940,0x60},
	{0x3942,0x02},
	{0x3943,0x1f},
	{0x395e,0xc0},
	{0x3960,0xba},
	{0x3961,0xae},
	{0x3962,0x89},
	{0x3963,0x80},
	{0x3966,0xba},
	{0x3980,0xa0},	// ¸ßÎÂÆ«ºì
	{0x3981,0x40},	// ¸ßÎÂÆ«ºì
	{0x3982,0x18},	// ¸ßÎÂÆ«ºì
	{0x3984,0x08},
	{0x3985,0x18},
	{0x3986,0x28},
	{0x3987,0x70},
	{0x3988,0x08},
	{0x3989,0x10},
	{0x398a,0x20},
	{0x398b,0x30},
	{0x398c,0x60},	// ¸ßÎÂÆ«ºì
	{0x398d,0x20},
	{0x398e,0x10},
	{0x398f,0x08},
	{0x3990,0x40},
	{0x3991,0x24},
	{0x3992,0x15},
	{0x3993,0x08},	// ¸ßÎÂÆ«ºì
	{0x3994,0x0a},
	{0x3995,0x20},
	{0x3996,0x38},
	{0x3997,0x70},
	{0x3998,0x08},
	{0x3999,0x10},
	{0x399a,0x18},
	{0x399b,0x30},
	{0x399c,0x30},
	{0x399d,0x18},
	{0x399e,0x10},
	{0x399f,0x08},
	{0x3e00,0x00},
	{0x3e01,0x8c},
	{0x3e02,0x60},
	{0x3e03,0x0b},
	{0x3e06,0x00},
	{0x3e07,0x80},
	{0x3e08,0x03},
	{0x3e09,0x10},
	{0x3e1e,0x34},
	{0x3f00,0x07},
	{0x3f04,0x04},
	{0x3f05,0x28},
	{0x4603,0x00},
	{0x4809,0x01},
	{0x4827,0x48},
	{0x4837,0x35},
	{0x5000,0x06},
	{0x5002,0x06},
	{0x5780,0x7f},
	{0x5781,0x04},
	{0x5782,0x03},
	{0x5783,0x02},
	{0x5784,0x01},
	{0x5785,0x18},
	{0x5786,0x10},
	{0x5787,0x08},
	{0x5788,0x02},
	{0x57a0,0x00},
	{0x57a1,0x71},
	{0x57a2,0x01},
	{0x57a3,0xf1},
	{0x3034,0x01},
	{0x3039,0x26},
	{0x0100,0x01},
};


// ExtClk: 27M  20190409
static const ISP_U16 gau16SnsInit_sc307e_dvp[][2] = {
	{0x0100, 0x00},
	{0x3034, 0x81},//pll2 bypass
	{0x3039, 0xa6},//pll1 bypass
	{0x3018, 0x1f},
	{0x3019, 0xff},
	{0x301c, 0xb4},
	{0x301f, 0x02},
	{0x3038, 0xff},
	{0x303b, 0x16},
	{0x303f, 0x81},
	{0x320c, 0x0A},
	{0x320d, 0x50},
	{0x320e, 0x04},
	{0x320f, 0x65},
	
	{0x3200, 0x00},
	{0x3201, 0x00},
	{0x3202, 0x00},
	{0x3203, 0x00},
	{0x3204, 0x07},
	{0x3205, 0x8F},	// 0x01
	{0x3206, 0x04},
	{0x3207, 0x47},
	{0x3208, 0x07},
	{0x3209, 0x88},
	{0x320a, 0x04},
	{0x320b, 0x40},
	{0x3210, 0x00},
	{0x3211, 0x04},
	{0x3212, 0x00},
	{0x3213, 0x04},
	
	{0x3222, 0x29},
	{0x3235, 0x08},
	{0x3236, 0xc8},
	{0x3301, 0x0f},
	{0x3302, 0x1f},
	{0x3303, 0x20},
	{0x3306, 0x48},
	{0x3308, 0x10},
	{0x3309, 0x60},
	{0x330b, 0xcd},
	{0x330e, 0x30},
	{0x3314, 0x04},
	{0x331b, 0x83},
	{0x331e, 0x19},
	{0x331f, 0x59},
	{0x3320, 0x01},
	{0x3326, 0x00},
	{0x3333, 0x30},
	{0x335e, 0x01},
	{0x335f, 0x03},
	{0x3366, 0x7c},
	{0x3367, 0x08},
	{0x3368, 0x04},
	{0x3369, 0x00},
	{0x336a, 0x00},
	{0x336b, 0x00},
	{0x337c, 0x04},
	{0x337d, 0x06},
	{0x337f, 0x03},
	{0x33a0, 0x05},
	{0x33aa, 0x10},
	{0x360f, 0x01},
	{0x3614, 0x80},
	{0x3620, 0x28},
	{0x3621, 0x28},
	{0x3622, 0x06},
	{0x3624, 0x08},
	{0x3625, 0x02},
	{0x3630, 0x9c},
	{0x3631, 0x84},
	{0x3632, 0x08},
	{0x3633, 0x4f},
	{0x3635, 0xa0},
	{0x3636, 0x25},
	{0x3637, 0x55},
	{0x3638, 0x1f},
	{0x3639, 0x09},
	{0x363a, 0x9f},
	{0x363b, 0x06},
	{0x363c, 0x05},
	{0x3641, 0x01},
	{0x366e, 0x08},
	{0x366f, 0x2c},
	{0x3670, 0x0c},
	{0x3671, 0xc6},
	{0x3672, 0x06},
	{0x3673, 0x16},
	{0x3677, 0x86},
	{0x3678, 0x88},
	{0x3679, 0x88},
	{0x367a, 0x28},
	{0x367b, 0x3f},
	{0x367e, 0x08},
	{0x367f, 0x28},
	{0x3690, 0x33},
	{0x3691, 0x11},
	{0x3692, 0x43},
	{0x369c, 0x08},
	{0x369d, 0x28},
	{0x3802, 0x00},
	{0x3900, 0x19},
	{0x3901, 0x02},
	{0x3902, 0xc5},
	{0x3903, 0x08},
	{0x3905, 0x98},
	{0x3907, 0x00},
	{0x3908, 0x11},
	{0x391d, 0x04},
	{0x391e, 0x00},
	{0x3933, 0x0a},
	{0x3934, 0x18},	// ¸ßÎÂÆ«ºì
	{0x3940, 0x60},
	{0x3942, 0x02},
	{0x3943, 0x1f},
	{0x395e, 0xc0},
	{0x3960, 0xba},
	{0x3961, 0xae},
	{0x3962, 0x89},
	{0x3963, 0x80},
	{0x3966, 0xba},
	{0x3980, 0xa0},
	{0x3981, 0x40},
	{0x3982, 0x18},
	{0x3984, 0x08},
	{0x3985, 0x18},	// ¸ßÎÂÆ«ºì
	{0x3986, 0x28},	// ¸ßÎÂÆ«ºì
	{0x3987, 0x70},	// ¸ßÎÂÆ«ºì
	{0x3988, 0x08},
	{0x3989, 0x10},
	{0x398a, 0x20},
	{0x398b, 0x30},
	{0x398c, 0x60},
	{0x398d, 0x20},
	{0x398e, 0x10},
	{0x398f, 0x08},
	{0x3990, 0x40},	// ¸ßÎÂÆ«ºì
	{0x3991, 0x24},
	{0x3992, 0x15},
	{0x3993, 0x08},
	{0x3994, 0x0a},
	{0x3995, 0x20},
	{0x3996, 0x38},
	{0x3997, 0x70},	// ¸ßÎÂÆ«ºì
	{0x3998, 0x08},
	{0x3999, 0x10},
	{0x399a, 0x18},
	{0x399b, 0x30},
	{0x399c, 0x30},
	{0x399d, 0x18},
	{0x399e, 0x10},
	{0x399f, 0x08},
	{0x3e00, 0x00},
	{0x3e01, 0x8c},
	{0x3e02, 0x60},
	{0x3e03, 0x0b},
	{0x3e06, 0x00},
	{0x3e07, 0x80},
	{0x3e08, 0x03},
	{0x3e09, 0x10},
	{0x3e1e, 0x34},
	{0x3f00, 0x07},
	{0x3f04, 0x04},
	{0x3f05, 0x28},
	{0x5000, 0x06},
	{0x5780, 0x7f},
	{0x5781, 0x04},
	{0x5782, 0x03},
	{0x5783, 0x02},
	{0x5784, 0x01},
	{0x5785, 0x18},
	{0x5786, 0x10},
	{0x5787, 0x08},
	{0x5788, 0x02},
	{0x57a0, 0x00},
	{0x57a1, 0x71},
	{0x57a2, 0x01},
	{0x57a3, 0xf1},
	{0x3034, 0x01},//pll2 enable
	{0x3039, 0x26},//pll1 enable
	{0x3d08, 0x03},//Lycai ³¡Í¬²½ÐÅºÅÆ¥Åä
	{0x0100, 0x01},
};




void sensor_init_sc307E(ISP_DEV IspDev)
{
	ISP_U16 u16Num,u16i;
	if(SENSCONT_DVP == gstSnsAttr[IspDev].enCmosIF)
	{
		u16Num = sizeof(gau16SnsInit_sc307e_dvp)/sizeof(gau16SnsInit_sc307e_dvp[0]);
		for(u16i=0; u16i < u16Num; u16i++)
		{
			sensor_write_register(IspDev,(ISP_U32)gau16SnsInit_sc307e_dvp[u16i][0], (ISP_U32)gau16SnsInit_sc307e_dvp[u16i][1]);
		}
		DEBUG("------------- SC307E (dvp) ----------------\n");
	}
	else
	{
		u16Num = sizeof(gau16SnsInit_sc307e_mipi)/sizeof(gau16SnsInit_sc307e_mipi[0]);
		for(u16i=0; u16i < u16Num; u16i++)
		{
			sensor_write_register(IspDev,(ISP_U32)gau16SnsInit_sc307e_mipi[u16i][0], (ISP_U32)gau16SnsInit_sc307e_mipi[u16i][1]);
		}
		if(IspDev == 1)
		{
			sensor_write_register(IspDev,0x3651, 0x7);
		}
		DEBUG("------------- SC307E (mipi) ----------------\n");
	}
}




